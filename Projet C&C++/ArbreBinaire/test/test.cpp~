 #include<fstream>
#include<iostream>
#include<string>
using namespace std;

int SupprimerUtilisateur(string pseudo){
  ifstream in("Utilisateur.txt");
 string mdp;
 string user;
 int flag=0;
 string Buffer="";
      string line="";
      string tmp="";
  if(in) //Si le fichier est trouvÃ©
    {
     do
        {
	  in>>user>>mdp;
	  cout<<user<<mdp<<endl;
	  if(user!=pseudo&&tmp!=user) 
	    Buffer += user+" "+mdp+"\n"; 
	  if(user==pseudo)
	    flag=1;
 tmp=user;
        }
     while (getline(in,line)); 

      in.close(); 
    }
      ofstream WriteFile("Utilisateur.txt"); 
      WriteFile << Buffer; 
      WriteFile.close(); 
      return flag;
}
 int main()
 {
   int flag=1;
   string pseudo;
string password;
         ifstream MonFichier("phrase.txt") ;
	 string cLigne;
         cout << "Position courante dans le fichier : "<<MonFichier.tellg() << endl ;
while(getline(MonFichier,pseudo)&&flag)
    {
      MonFichier>>pseudo>>password;
      cout<<pseudo<<endl;
      if(pseudo=="tahar"){
	flag=0;
      }
} 
  
if(password=="1545"){
  cout<<"Pass Ok"<<endl;
 }
 else
   cout<<"Mot de Passe Incorrect"<<endl;
  MonFichier.close();


  if( SupprimerUtilisateur("user3")){
    cout<<"Reussi"<<endl;
  }
  else
    cout<<"Erreur"<<endl;

	 return 0;
}
